{"filter":false,"title":"api.js","tooltip":"/pagina/static/api.js","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":48,"column":0},"action":"insert","lines":["// Endpoints base (ajústalo si despliegas detrás de un proxy)","const API_BASE = \"\";","","// Utilidad simple para mostrar JSON bonito","function setJSON(el, data) {","  el.textContent = JSON.stringify(data, null, 2);","}","","document.addEventListener(\"DOMContentLoaded\", () => {","  const out = document.getElementById(\"apiOut\");","  const btnHello = document.getElementById(\"btnHello\");","  const btnItem = document.getElementById(\"btnItem\");","  const form = document.getElementById(\"demoForm\");","  const inputQ = document.getElementById(\"inputQ\");","","  // Llamada a /api/hello","  btnHello?.addEventListener(\"click\", async () => {","    setJSON(out, { status: \"loading\" });","    try {","      const res = await fetch(`${API_BASE}/api/hello`);","      const json = await res.json();","      setJSON(out, json);","    } catch (e) {","      setJSON(out, { error: String(e) });","    }","  });","","  // Llamada a /api/items/42?q=...","  btnItem?.addEventListener(\"click\", async () => {","    setJSON(out, { status: \"loading\" });","    try {","      const q = encodeURIComponent(inputQ?.value || \"\");","      const url = `${API_BASE}/api/items/42${q ? `?q=${q}` : \"\"}`;","      const res = await fetch(url);","      const json = await res.json();","      setJSON(out, json);","    } catch (e) {","      setJSON(out, { error: String(e) });","    }","  });","","  // Ejemplo de manejo de submit (sin backend aún)","  form?.addEventListener(\"submit\", (ev) => {","    ev.preventDefault();","    const q = inputQ?.value || \"\";","    setJSON(out, { message: \"Formulario recibido localmente\", q });","  });","});",""],"id":1}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":48,"column":0},"end":{"row":48,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1757378999367,"hash":"ab12c1c837eab759736832d3d9f297ae94158f9a"}