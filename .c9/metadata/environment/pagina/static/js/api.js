{"filter":false,"title":"api.js","tooltip":"/pagina/static/js/api.js","undoManager":{"mark":2,"position":2,"stack":[[{"start":{"row":0,"column":0},"end":{"row":48,"column":0},"action":"insert","lines":["// Endpoints base (ajústalo si despliegas detrás de un proxy)","const API_BASE = \"\";","","// Utilidad simple para mostrar JSON bonito","function setJSON(el, data) {","  el.textContent = JSON.stringify(data, null, 2);","}","","document.addEventListener(\"DOMContentLoaded\", () => {","  const out = document.getElementById(\"apiOut\");","  const btnHello = document.getElementById(\"btnHello\");","  const btnItem = document.getElementById(\"btnItem\");","  const form = document.getElementById(\"demoForm\");","  const inputQ = document.getElementById(\"inputQ\");","","  // Llamada a /api/hello","  btnHello?.addEventListener(\"click\", async () => {","    setJSON(out, { status: \"loading\" });","    try {","      const res = await fetch(`${API_BASE}/api/hello`);","      const json = await res.json();","      setJSON(out, json);","    } catch (e) {","      setJSON(out, { error: String(e) });","    }","  });","","  // Llamada a /api/items/42?q=...","  btnItem?.addEventListener(\"click\", async () => {","    setJSON(out, { status: \"loading\" });","    try {","      const q = encodeURIComponent(inputQ?.value || \"\");","      const url = `${API_BASE}/api/items/42${q ? `?q=${q}` : \"\"}`;","      const res = await fetch(url);","      const json = await res.json();","      setJSON(out, json);","    } catch (e) {","      setJSON(out, { error: String(e) });","    }","  });","","  // Ejemplo de manejo de submit (sin backend aún)","  form?.addEventListener(\"submit\", (ev) => {","    ev.preventDefault();","    const q = inputQ?.value || \"\";","    setJSON(out, { message: \"Formulario recibido localmente\", q });","  });","});",""],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":48,"column":0},"action":"remove","lines":["// Endpoints base (ajústalo si despliegas detrás de un proxy)","const API_BASE = \"\";","","// Utilidad simple para mostrar JSON bonito","function setJSON(el, data) {","  el.textContent = JSON.stringify(data, null, 2);","}","","document.addEventListener(\"DOMContentLoaded\", () => {","  const out = document.getElementById(\"apiOut\");","  const btnHello = document.getElementById(\"btnHello\");","  const btnItem = document.getElementById(\"btnItem\");","  const form = document.getElementById(\"demoForm\");","  const inputQ = document.getElementById(\"inputQ\");","","  // Llamada a /api/hello","  btnHello?.addEventListener(\"click\", async () => {","    setJSON(out, { status: \"loading\" });","    try {","      const res = await fetch(`${API_BASE}/api/hello`);","      const json = await res.json();","      setJSON(out, json);","    } catch (e) {","      setJSON(out, { error: String(e) });","    }","  });","","  // Llamada a /api/items/42?q=...","  btnItem?.addEventListener(\"click\", async () => {","    setJSON(out, { status: \"loading\" });","    try {","      const q = encodeURIComponent(inputQ?.value || \"\");","      const url = `${API_BASE}/api/items/42${q ? `?q=${q}` : \"\"}`;","      const res = await fetch(url);","      const json = await res.json();","      setJSON(out, json);","    } catch (e) {","      setJSON(out, { error: String(e) });","    }","  });","","  // Ejemplo de manejo de submit (sin backend aún)","  form?.addEventListener(\"submit\", (ev) => {","    ev.preventDefault();","    const q = inputQ?.value || \"\";","    setJSON(out, { message: \"Formulario recibido localmente\", q });","  });","});",""],"id":2},{"start":{"row":0,"column":0},"end":{"row":144,"column":0},"action":"insert","lines":["const API_BASE = \"\"; // mismo host","","const $ = (sel, ctx = document) => ctx.querySelector(sel);","const $$ = (sel, ctx = document) => Array.from(ctx.querySelectorAll(sel));","","function setJSON(el, data) {","  el.textContent = JSON.stringify(data, null, 2);","}","","async function fetchJSON(url, opts) {","  const res = await fetch(url, opts);","  if (!res.ok) {","    const text = await res.text().catch(() => \"\");","    throw new Error(`HTTP ${res.status}: ${text || res.statusText}`);","  }","  return res.json();","}","","/* =========================","   DIVISIÓN 1: MODEL INFO","   ========================= */","async function loadModelInfo() {","  const outParams = $(\"#infoParams\");","  const outMetrics = $(\"#infoMetrics\");","  const outTags = $(\"#infoTags\");","  const outArtifacts = $(\"#infoArtifacts\");","","  $(\"#infoTracking\").textContent = \"cargando...\";","  $(\"#infoRunId\").textContent = \"cargando...\";","  $(\"#infoArtifact\").textContent = \"cargando...\";","  $(\"#infoPyfunc\").textContent = \"cargando...\";","  $(\"#infoInner\").textContent = \"cargando...\";","  $(\"#infoSignature\").textContent = \"cargando...\";","  setJSON(outParams, {});","  setJSON(outMetrics, {});","  setJSON(outTags, {});","  setJSON(outArtifacts, []);","","  try {","    const data = await fetchJSON(`${API_BASE}/model_info`);","    $(\"#infoTracking\").textContent = data.tracking_uri || \"—\";","    $(\"#infoRunId\").textContent = data.run_id || \"—\";","    $(\"#infoArtifact\").textContent = data.artifact_model_path || \"—\";","","    const meta = data.model_meta || {};","    $(\"#infoPyfunc\").textContent = meta.pyfunc_class || \"—\";","    $(\"#infoInner\").textContent = meta.inner_class || (meta.warning ? \"n/a\" : \"—\");","    $(\"#infoSignature\").textContent = meta.signature || \"—\";","","    setJSON(outParams, data.params || {});","    setJSON(outMetrics, data.metrics || {});","    setJSON(outTags, data.tags || {});","    setJSON(outArtifacts, data.artifacts || []);","  } catch (e) {","    setJSON(outParams, { error: String(e) });","  }","}","","/* =========================","   DIVISIÓN 2: PREDICT","   ========================= */","function renumberInputs() {","  $$(\"#inputsContainer .input-group\").forEach((group, idx) => {","    const badge = group.querySelector(\".input-group-text\");","    if (badge) badge.textContent = `#${idx + 1}`;","  });","}","","function addInput(value = \"\") {","  const container = $(\"#inputsContainer\");","  const group = document.createElement(\"div\");","  group.className = \"input-group\";","  group.innerHTML = `","    <span class=\"input-group-text\">#?</span>","    <input type=\"text\" class=\"form-control predict-input\" placeholder=\"Escribe un texto...\" />","    <button class=\"btn btn-outline-danger btn-remove\" type=\"button\" title=\"Eliminar\">✕</button>","  `;","  const input = group.querySelector(\"input\");","  input.value = value;","","  const btnRemove = group.querySelector(\".btn-remove\");","  btnRemove.addEventListener(\"click\", () => {","    group.remove();","    renumberInputs();","  });","","  container.appendChild(group);","  renumberInputs();","}","","function clearInputs() {","  const container = $(\"#inputsContainer\");","  container.innerHTML = \"\";","  addInput(\"\");","}","","async function doPredict(ev) {","  ev?.preventDefault();","  const out = $(\"#predictOut\");","","  const texts = $$(\".predict-input\")","    .map(inp => inp.value.trim())","    .filter(Boolean);","","  if (texts.length === 0) {","    setJSON(out, { error: \"Debes ingresar al menos un texto.\" });","    return;","  }","","  setJSON(out, { status: \"loading\", inputs: texts });","","  try {","    const data = await fetchJSON(`${API_BASE}/predict`, {","      method: \"POST\",","      headers: { \"Content-Type\": \"application/json\" },","      body: JSON.stringify({ inputs: texts })","    });","    setJSON(out, data);","  } catch (e) {","    setJSON(out, { error: String(e) });","  }","}","","/* =========================","   INIT","   ========================= */","document.addEventListener(\"DOMContentLoaded\", () => {","  // División 1","  $(\"#btnRefreshInfo\")?.addEventListener(\"click\", loadModelInfo);","  loadModelInfo();","","  // División 2","  $(\"#btnAdd\")?.addEventListener(\"click\", () => addInput(\"\"));","  $(\"#btnClear\")?.addEventListener(\"click\", clearInputs);","  $(\"#predictForm\")?.addEventListener(\"submit\", doPredict);","","  // ya hay un input inicial en el HTML, agrega eventos de remove:","  $$(\"#inputsContainer .btn-remove\").forEach(btn => {","    btn.addEventListener(\"click\", (e) => {","      e.currentTarget.closest(\".input-group\")?.remove();","      renumberInputs();","    });","  });","});",""]}],[{"start":{"row":0,"column":0},"end":{"row":144,"column":0},"action":"remove","lines":["const API_BASE = \"\"; // mismo host","","const $ = (sel, ctx = document) => ctx.querySelector(sel);","const $$ = (sel, ctx = document) => Array.from(ctx.querySelectorAll(sel));","","function setJSON(el, data) {","  el.textContent = JSON.stringify(data, null, 2);","}","","async function fetchJSON(url, opts) {","  const res = await fetch(url, opts);","  if (!res.ok) {","    const text = await res.text().catch(() => \"\");","    throw new Error(`HTTP ${res.status}: ${text || res.statusText}`);","  }","  return res.json();","}","","/* =========================","   DIVISIÓN 1: MODEL INFO","   ========================= */","async function loadModelInfo() {","  const outParams = $(\"#infoParams\");","  const outMetrics = $(\"#infoMetrics\");","  const outTags = $(\"#infoTags\");","  const outArtifacts = $(\"#infoArtifacts\");","","  $(\"#infoTracking\").textContent = \"cargando...\";","  $(\"#infoRunId\").textContent = \"cargando...\";","  $(\"#infoArtifact\").textContent = \"cargando...\";","  $(\"#infoPyfunc\").textContent = \"cargando...\";","  $(\"#infoInner\").textContent = \"cargando...\";","  $(\"#infoSignature\").textContent = \"cargando...\";","  setJSON(outParams, {});","  setJSON(outMetrics, {});","  setJSON(outTags, {});","  setJSON(outArtifacts, []);","","  try {","    const data = await fetchJSON(`${API_BASE}/model_info`);","    $(\"#infoTracking\").textContent = data.tracking_uri || \"—\";","    $(\"#infoRunId\").textContent = data.run_id || \"—\";","    $(\"#infoArtifact\").textContent = data.artifact_model_path || \"—\";","","    const meta = data.model_meta || {};","    $(\"#infoPyfunc\").textContent = meta.pyfunc_class || \"—\";","    $(\"#infoInner\").textContent = meta.inner_class || (meta.warning ? \"n/a\" : \"—\");","    $(\"#infoSignature\").textContent = meta.signature || \"—\";","","    setJSON(outParams, data.params || {});","    setJSON(outMetrics, data.metrics || {});","    setJSON(outTags, data.tags || {});","    setJSON(outArtifacts, data.artifacts || []);","  } catch (e) {","    setJSON(outParams, { error: String(e) });","  }","}","","/* =========================","   DIVISIÓN 2: PREDICT","   ========================= */","function renumberInputs() {","  $$(\"#inputsContainer .input-group\").forEach((group, idx) => {","    const badge = group.querySelector(\".input-group-text\");","    if (badge) badge.textContent = `#${idx + 1}`;","  });","}","","function addInput(value = \"\") {","  const container = $(\"#inputsContainer\");","  const group = document.createElement(\"div\");","  group.className = \"input-group\";","  group.innerHTML = `","    <span class=\"input-group-text\">#?</span>","    <input type=\"text\" class=\"form-control predict-input\" placeholder=\"Escribe un texto...\" />","    <button class=\"btn btn-outline-danger btn-remove\" type=\"button\" title=\"Eliminar\">✕</button>","  `;","  const input = group.querySelector(\"input\");","  input.value = value;","","  const btnRemove = group.querySelector(\".btn-remove\");","  btnRemove.addEventListener(\"click\", () => {","    group.remove();","    renumberInputs();","  });","","  container.appendChild(group);","  renumberInputs();","}","","function clearInputs() {","  const container = $(\"#inputsContainer\");","  container.innerHTML = \"\";","  addInput(\"\");","}","","async function doPredict(ev) {","  ev?.preventDefault();","  const out = $(\"#predictOut\");","","  const texts = $$(\".predict-input\")","    .map(inp => inp.value.trim())","    .filter(Boolean);","","  if (texts.length === 0) {","    setJSON(out, { error: \"Debes ingresar al menos un texto.\" });","    return;","  }","","  setJSON(out, { status: \"loading\", inputs: texts });","","  try {","    const data = await fetchJSON(`${API_BASE}/predict`, {","      method: \"POST\",","      headers: { \"Content-Type\": \"application/json\" },","      body: JSON.stringify({ inputs: texts })","    });","    setJSON(out, data);","  } catch (e) {","    setJSON(out, { error: String(e) });","  }","}","","/* =========================","   INIT","   ========================= */","document.addEventListener(\"DOMContentLoaded\", () => {","  // División 1","  $(\"#btnRefreshInfo\")?.addEventListener(\"click\", loadModelInfo);","  loadModelInfo();","","  // División 2","  $(\"#btnAdd\")?.addEventListener(\"click\", () => addInput(\"\"));","  $(\"#btnClear\")?.addEventListener(\"click\", clearInputs);","  $(\"#predictForm\")?.addEventListener(\"submit\", doPredict);","","  // ya hay un input inicial en el HTML, agrega eventos de remove:","  $$(\"#inputsContainer .btn-remove\").forEach(btn => {","    btn.addEventListener(\"click\", (e) => {","      e.currentTarget.closest(\".input-group\")?.remove();","      renumberInputs();","    });","  });","});",""],"id":3},{"start":{"row":0,"column":0},"end":{"row":247,"column":1},"action":"insert","lines":["const API_BASE = window.API_BASE || \"\";","","const $ = (sel, ctx = document) => ctx.querySelector(sel);","const $$ = (sel, ctx = document) => Array.from(ctx.querySelectorAll(sel));","","function setJSON(el, data) {","  el.textContent = JSON.stringify(data, null, 2);","}","async function fetchJSON(url, opts) {","  const res = await fetch(url, opts);","  if (!res.ok) {","    const text = await res.text().catch(() => \"\");","    throw new Error(HTTP ${res.status}: ${text || res.statusText});","  }","  return res.json();","}","","// ===== helpers visuales","const bytesToHuman = (n) => {","  if (n == null) return \"—\";","  const units = [\"B\",\"KB\",\"MB\",\"GB\",\"TB\"];","  let i = 0;","  let num = Number(n);","  while (num >= 1024 && i < units.length - 1) {","    num /= 1024;","    i++;","  }","  return ${num.toFixed(num < 10 ? 2 : 1)} ${units[i]};","};","const asBadge = (label, value) =>","  <span class=\"badge rounded-pill text-bg-light border\"><span class=\"text-muted\">${label}:</span> <strong>${value}</strong></span>;","","// ======== MAPA DE EXPLICACIONES DE HIPERPARÁMETROS ========","// Puedes ampliar/ajustar estos textos sin tocar backend.","const H_PARAM_EXPLAIN = {","  \"k_features\": \"Número de características retenidas tras la selección por chi²; reduce dimensionalidad y acelera el entrenamiento.\",","  \"apply_fs\": \"Activa la selección de características (feature selection) previa al modelo.\",","  \"fs_sample_rows\": \"Submuestra de filas usada para estimar las mejores características por chi².\",","  \"test_size\": \"Porción del dataset destinada a prueba final (hold-out).\",","  \"val_size\": \"Porción del Train reservada para validación y selección de umbral.\",","  \"cpu_threads\": \"Hilos de CPU asignados para procesamiento y modelos.\",","  \"seed\": \"Semilla aleatoria para reproducibilidad.\",","  \"n_batches_to_run\": \"Número de lotes incrementales (p.ej., para warm-start de bosques).\",","  \"trees_per_batch\": \"Árboles añadidos en cada lote incremental.\",","  \"try_extratrees\": \"Si se intentó entrenar un ExtraTrees además del RandomForest.\",","  \"et_trees\": \"Número de árboles en ExtraTrees.\",","  // RF prefijados","  \"rf__n_estimators\": \"Número de árboles del bosque aleatorio.\",","  \"rf__max_depth\": \"Profundidad máxima de cada árbol (controla el overfitting).\",","  \"rf__min_samples_split\": \"Mínimo de muestras para dividir un nodo.\",","  \"rf__min_samples_leaf\": \"Mínimo de muestras en una hoja.\",","  \"rf__max_features\": \"Proporción/características a estudiar en cada split.\",","  \"rf__bootstrap\": \"Si se usa muestreo con reemplazo en la construcción de cada árbol.\",","  \"rf__max_samples\": \"Fracción del dataset usada por árbol cuando bootstrap está activo.\",","  \"rf__class_weight\": \"Ponderación de clases para manejar desbalance.\",","  \"rf__criterion\": \"Función de impureza (‘gini’ o ‘entropy’).\",","  \"rf__random_state\": \"Semilla en el estimador.\",","  \"rf__n_jobs\": \"Paralelismo del estimador (núcleos).\",","  \"rf__warm_start\": \"Permite añadir árboles sin reentrenar desde cero.\",","  \"rf__verbose\": \"Nivel de logging durante el fit.\",","  // ET prefijados","  \"et__n_estimators\": \"Número de árboles en ExtraTrees.\",","  \"et__max_depth\": \"Profundidad máxima de cada árbol (ET).\",","  \"et__min_samples_split\": \"Mínimo de muestras para dividir un nodo (ET).\",","  \"et__min_samples_leaf\": \"Mínimo de muestras en una hoja (ET).\",","  \"et__max_features\": \"Características por split (ET).\",","  \"et__bootstrap\": \"Si ET usa muestreo con reemplazo.\",","  \"et__class_weight\": \"Ponderación de clases (ET).\",","  \"et__criterion\": \"Función de impureza (ET).\",","  \"et__random_state\": \"Semilla (ET).\",","  \"et__n_jobs\": \"Paralelismo en ET.\",","  \"et__verbose\": \"Nivel de logging (ET).\",","  // Otros","  \"best_threshold_so_far\": \"Umbral que maximizó la métrica objetivo en validación.\",","  \"best_threshold_final\": \"Umbral final elegido para inferencia.\",","  \"val_threshold\": \"Umbral aplicado en el set de validación.\",","  \"et_threshold\": \"Umbral de ExtraTrees si se evaluó.\",","  \"n_selected_features\": \"Cantidad final de características retenidas.\"","};","","// Deducción de pipeline a partir de params","function buildPipelineSummary(params) {","  const parts = [];","  const applyFs = asBool(params[\"apply_fs\"]);","  const k = params[\"k_features\"];","  if (applyFs) {","    parts.push(Selección de características (chi²) → ${k ? `${Number(k).toLocaleString(\"es-CO\")} features : \"features seleccionadas\"}`);","  }","  const rfDepth = params[\"rf__max_depth\"];","  const rfTrees = params[\"rf__n_estimators\"];","  const rfWarm  = params[\"rf__warm_start\"];","  const rfStr = RandomForest ${rfTrees ? `(${rfTrees} árboles) : \"\"}${rfDepth ? , max_depth=${rfDepth} : \"\"}${rfWarm ? \", warm_start\" : \"\"}`;","  const tryET = params[\"try_extratrees\"] === \"True\" || params[\"try_extratrees\"] === true;","","  if (tryET) {","    const etTrees = params[\"et__n_estimators\"];","    const etDepth = params[\"et__max_depth\"];","    const etStr = ExtraTrees ${etTrees ? `(${etTrees} árboles) : \"\"}${etDepth ? , max_depth=${etDepth} : \"\"}`;","    parts.push(${rfStr} + ${etStr} (comparativa en validación));","  } else {","    parts.push(rfStr);","  }","","  const testSize = params[\"test_size\"];","  const valSize  = params[\"val_size\"];","  parts.push(Split: test=${testSize ?? \"?\"}, val=${valSize ?? \"?\"}, seed=${params[\"seed\"] ?? \"—\"});","","  return parts.map(p => <div class=\"mb-1\">• ${p}</div>).join(\"\");","}","function asBool(v) {","  if (typeof v === \"boolean\") return v;","  if (typeof v === \"string\") return v.toLowerCase() === \"true\";","  return false;","}","","// Render tabla Hparams (clave, valor, explicación)","function renderHparamTable(tableBody, params) {","  const entries = Object.entries(params).sort(([a], [b]) => a.localeCompare(b));","  const rows = entries.map(([k, v]) => {","    const exp = H_PARAM_EXPLAIN[k] || (k.startsWith(\"rf_\") || k.startsWith(\"et_\")","      ? \"Hiperparámetro del bosque basado en árboles.\"","      : \"Parámetro del flujo de entrenamiento.\");","    const pretty = typeof v === \"string\" ? v : JSON.stringify(v);","    return `","      <tr>","        <td><code>${k}</code></td>","        <td><span class=\"mono\">${pretty}</span></td>","        <td class=\"small text-muted\">${exp}</td>","      </tr>","    `;","  }).join(\"\");","  tableBody.innerHTML = rows || <tr><td colspan=\"3\" class=\"text-center text-muted\">Sin parámetros</td></tr>;","}","","// Métricas principales como badges","function renderMetricBadges(container, metrics) {","  const picks = [","    [\"recall_macro\", \"Recall macro (test)\"],","    [\"f1_macro_test\", \"F1 macro (test)\"],","    [\"accuracy_test\", \"Accuracy (test)\"],","    [\"test_recall_macro\", \"Recall macro (test, alt)\"],","    [\"val_recall\", \"Recall (val)\"]","  ];","  const html = picks","    .filter(([k]) => metrics && (k in metrics))","    .map(([k, label]) => asBadge(label, Number(metrics[k]).toFixed(4)))","    .join(\"\");","  container.innerHTML = html || <span class=\"text-muted small\">No hay métricas destacadas.</span>;","}","","// Umbrales y selección","function renderThresholds(list, metrics) {","  const fields = [","    [\"best_threshold_final\", \"Umbral final\"],","    [\"best_threshold_so_far\", \"Umbral óptimo (histórico)\"],","    [\"val_threshold\", \"Umbral validación\"],","    [\"et_threshold\", \"Umbral ExtraTrees\"]","  ];","  const items = fields","    .filter(([k]) => metrics && (k in metrics))","    .map(([k, label]) => {","      const v = metrics[k];","      return <li><strong>${label}:</strong> <span class=\"mono\">${typeof v === \"number\" ? v.toFixed(6) : v}</span></li>;","    }).join(\"\");","  list.innerHTML = items || <li class=\"text-muted\">No se registraron umbrales.</li>;","}","","// Artefactos","function renderArtifacts(tbody, artifacts) {","  const rows = (artifacts || []).map(a => {","    const type = a.is_dir ? \"Carpeta\" : \"Archivo\";","    const size = a.is_dir ? \"—\" : bytesToHuman(a.file_size);","    return `","      <tr>","        <td><span class=\"mono\">${a.path}</span></td>","        <td>${size}</td>","        <td>${type}</td>","      </tr>","    `;","  }).join(\"\");","  tbody.innerHTML = rows || <tr><td colspan=\"3\" class=\"text-center text-muted\">Sin artefactos</td></tr>;","}","","/* =========================","   DIVISIÓN 1: MODEL INFO","   ========================= */","async function loadModelInfo() {","  const outParams = $(\"#infoParams\");","  const outMetrics = $(\"#infoMetrics\");","  const outTags = $(\"#infoTags\");","  const outArtifacts = $(\"#infoArtifacts\");","","  $(\"#infoTracking\").textContent = \"cargando...\";","  $(\"#infoRunId\").textContent = \"cargando...\";","  $(\"#infoArtifact\").textContent = \"cargando...\";","  $(\"#infoPyfunc\").textContent = \"cargando...\";","  $(\"#infoInner\").textContent = \"cargando...\";","  $(\"#infoSignature\").textContent = \"cargando...\";","  $(\"#infoRunUrl\").href = \"#\";","","  setJSON(outParams, {});","  setJSON(outMetrics, {});","  setJSON(outTags, {});","  setJSON(outArtifacts, []);","","  try {","    const data = await fetchJSON(${API_BASE}/model_info);","","    // Encabezado","    $(\"#infoTracking\").textContent = data.tracking_uri || \"—\";","    $(\"#infoRunId\").textContent = data.run_id || \"—\";","    $(\"#infoArtifact\").textContent = data.artifact_model_path || \"—\";","    if (data.run_url) {","      $(\"#infoRunUrl\").href = data.run_url;","    }","","    // Modelo meta","    const meta = data.model_meta || {};","    $(\"#infoPyfunc\").textContent = meta.pyfunc_class || \"—\";","    $(\"#infoInner\").textContent = meta.inner_class || (meta.warning ? \"n/a\" : \"—\");","    $(\"#infoSignature\").textContent = meta.signature || \"—\";","","    // Resumen pipeline","    const params = data.params || {};","    $(\"#pipelineSummary\").innerHTML = buildPipelineSummary(params);","","    // Hparams explicados","    renderHparamTable($(\"#hparamsTable\"), params);","","    // Métricas","    const metrics = data.metrics || {};","    renderMetricBadges($(\"#metricBadges\"), metrics);","    renderThresholds($(\"#thresholdList\"), metrics);","","    // Artefactos","    renderArtifacts($(\"#artifactsTable\"), data.artifacts || []);","    const runUrl = data.run_url || data.tracking_uri;","    $(\"#openMlflowArtifacts\").href = runUrl;","","    // JSON crudo","    setJSON(outParams, params);","    setJSON(outMetrics, metrics);","    setJSON(outTags, data.tags || {});","    setJSON(outArtifacts, data.artifacts || []);","  } catch (e) {","    setJSON(outParams, { error: String(e) });","  }","}"]}]]},"ace":{"folds":[],"scrolltop":2947,"scrollleft":0,"selection":{"start":{"row":247,"column":1},"end":{"row":247,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1757386457362,"hash":"bf33c624532926f6e9632dd61d4b205e9307b12b"}